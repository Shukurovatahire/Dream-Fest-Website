import{X as _,r as i,Y as J,U as q,j as e,K as V,Z as C,_ as H,$ as W}from"./AllArtists-eN8-0vPH.js";import{B as b}from"./Concerts-DiTnYv2f.js";var a=[];for(var x=0;x<256;++x)a.push((x+256).toString(16).slice(1));function $(s,t=0){return(a[s[t+0]]+a[s[t+1]]+a[s[t+2]]+a[s[t+3]]+"-"+a[s[t+4]]+a[s[t+5]]+"-"+a[s[t+6]]+a[s[t+7]]+"-"+a[s[t+8]]+a[s[t+9]]+"-"+a[s[t+10]]+a[s[t+11]]+a[s[t+12]]+a[s[t+13]]+a[s[t+14]]+a[s[t+15]]).toLowerCase()}var p,Z=new Uint8Array(16);function G(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(Z)}var K=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const f={randomUUID:K};function F(s,t,L){if(f.randomUUID&&!t&&!s)return f.randomUUID();s=s||{};var c=s.random||(s.rng||G)();return c[6]=c[6]&15|64,c[8]=c[8]&63|128,$(c)}function E(s){return _({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.1 144.8c56.2 0 101.9 45.3 101.9 101.1 0 13.1-2.6 25.5-7.3 37l59.5 59c30.8-25.5 55-58.4 69.9-96-35.3-88.7-122.3-151.6-224.2-151.6-28.5 0-55.8 5.1-81.1 14.1l44 43.7c11.6-4.6 24.1-7.3 37.3-7.3zM52.4 89.7l46.5 46.1 9.4 9.3c-33.9 26-60.4 60.8-76.3 100.8 35.2 88.7 122.2 151.6 224.1 151.6 31.6 0 61.7-6.1 89.2-17l8.6 8.5 59.7 59 25.9-25.7L78.2 64 52.4 89.7zM165 201.4l31.6 31.3c-1 4.2-1.6 8.7-1.6 13.1 0 33.5 27.3 60.6 61.1 60.6 4.5 0 9-.6 13.2-1.6l31.6 31.3c-13.6 6.7-28.7 10.7-44.8 10.7-56.2 0-101.9-45.3-101.9-101.1 0-15.8 4.1-30.7 10.8-44.3zm87.8-15.7l64.2 63.7.4-3.2c0-33.5-27.3-60.6-61.1-60.6l-3.5.1z"},child:[]}]})(s)}const X=()=>{JSON.parse(localStorage.getItem("allUsers")||"[]");const[s,t]=i.useState(""),[L,c]=i.useState(""),[g,P]=i.useState(""),[d,D]=i.useState(!1),[h,T]=i.useState(""),[m,u]=i.useState(""),[j,y]=i.useState(!1),S=J(),v=q(),N=()=>{y(!j)},w=()=>{D(!d)},k=(n,l,o)=>{const r=new Date;r.setTime(r.getTime()+o*60*60*1e3);const R="expires="+r.toUTCString();document.cookie=n+"="+l+";"+R+";path=/"},M=()=>{setTimeout(()=>{localStorage.removeItem("currentUser"),document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",S("/login")},6*60*60*1e3)},O=n=>{const l=/[A-Z]/.test(n);return/\d/.test(n)&&l},I=n=>{T(n.target.value),c(n.target.value)},z=n=>{t(n.target.value)},U=n=>{P(n.target.value)},A=n=>{n.preventDefault(),O(h)?u(""):u("Password must contain at least one uppercase letter and one number.");const l=JSON.parse(localStorage.getItem("allUsers")||"[]");if(l.some(r=>r.email===g))u("User already exists.");else{const r={username:s,email:g,password:h,userId:F(),cart:[]};l.push(r),localStorage.setItem("allUsers",JSON.stringify(l)),y(!0),alert("Registration successful!")}},B=n=>{n.preventDefault();const o=JSON.parse(localStorage.getItem("allUsers")||"[]").find(r=>r.email===g);if(o&&o.password===h){k("authToken",F(),6),alert("Login successful!"),console.log(o),localStorage.setItem("currentUser",JSON.stringify(o));const r=JSON.parse(localStorage.getItem(`currentUserCart_${o.userId}`)||"[]");Array.isArray(r)&&v(H(r)),v(W(o)),M(),S("/cart")}else u("Invalid email or password.")};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"loginSection",children:[e.jsx(V,{}),e.jsxs("div",{className:"loginContainer",children:[e.jsx("div",{className:"photoPart",children:e.jsx("img",{src:"https://preview.colorlib.com/theme/bootstrap/login-form-07/images/undraw_remotely_2j6y.svg",alt:""})}),e.jsx("div",{className:"generalBox",children:j?e.jsxs("div",{className:"singIn",children:[e.jsx("div",{className:"ifHaveAcconut",children:e.jsxs("p",{children:["Don't have an account?",e.jsx("span",{onClick:N,style:{color:"#6C63FF",cursor:"pointer",marginLeft:"3px"},children:"Sing up"})]})}),e.jsx("h2",{children:"Welcome to Dream Fest"}),e.jsxs("p",{style:{color:"#6C63FF",fontWeight:"bold",fontSize:"25px"},children:["Sing",e.jsx("span",{style:{color:"white",fontWeight:"normal",marginLeft:"3px"},children:"in"})]}),e.jsx("div",{className:"loginFormm",children:e.jsxs("form",{className:"loginForm",onSubmit:B,children:[e.jsxs("label",{className:"eyeInput",children:[e.jsx("span",{className:"lSpan",children:"Password"}),e.jsx("div",{className:"passwordIcon",onClick:w,children:d?e.jsx(C,{className:"eyeIcon"}):e.jsx(E,{className:"eyeIcon"})}),e.jsx("input",{required:!0,type:d?"text":"password",onChange:I}),m&&e.jsx("p",{className:"errorMesage",style:{color:"red",fontSize:"12px",marginTop:"5px"},children:m})]}),e.jsxs("label",{children:[e.jsx("span",{className:"lSpan",children:"Email"}),e.jsx("input",{type:"email",required:!0,onChange:U})]}),e.jsx("div",{className:"registerButtons",children:e.jsx(b,{text:"Sing In",bgColor:"#6C63FF",color:"white",className:"loginBtn"})})]})})]}):e.jsxs("div",{className:"partForm",children:[e.jsx("div",{className:"ifHaveAcconut",children:e.jsxs("p",{children:["Already have an account ?",e.jsx("span",{onClick:N,style:{color:"#6C63FF",cursor:"pointer",marginLeft:"3px"},children:"Sing in"})]})}),e.jsx("h2",{children:"Welcome to Dream Fest"}),e.jsx("p",{children:"Register your account"}),e.jsx("div",{className:"loginFormm",children:e.jsxs("form",{className:"loginForm",onSubmit:A,children:[e.jsxs("label",{children:[e.jsx("span",{className:"lSpan",children:"Username"}),e.jsx("input",{type:"text",required:!0,onChange:z})]}),e.jsxs("label",{className:"eyeInput",children:[e.jsx("span",{className:"lSpan",children:"Password"}),e.jsx("div",{className:"passwordIcon",onClick:w,children:d?e.jsx(C,{className:"eyeIcon"}):e.jsx(E,{className:"eyeIcon"})}),e.jsx("input",{required:!0,type:d?"text":"password",onChange:I}),m&&e.jsx("p",{className:"errorMesage",style:{color:"red",fontSize:"12px",marginTop:"5px"},children:m})]}),e.jsxs("label",{children:[e.jsx("span",{className:"lSpan",children:"Email"}),e.jsx("input",{type:"email",required:!0,onChange:U})]}),e.jsx("div",{className:"registerButtons",children:e.jsx(b,{text:"Login",bgColor:"#6C63FF",color:"white",className:"loginBtn"})})]})})]})})]})]})})},ee=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));export{ee as L,F as v};
