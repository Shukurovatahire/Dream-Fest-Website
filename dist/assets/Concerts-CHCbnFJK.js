import{e as u,j as e,f as h,w as j,x as m}from"./vendor-VF7iyE7l.js";import{u as g,a as p,b as f,H as C,c as N}from"./index-Duve82Pp.js";import{B as x}from"./Button-BOGBLznd.js";import{B as _}from"./BreadCrumb-BBql1721.js";import{F as b}from"./Footer-GdxIwXAj.js";const v=s=>{const{url:d,name:r,date:t,id:i,handleClick:l}=s,{t:n}=u(),c="https://i.guim.co.uk/img/media/0d961031d7d7da69525fef264d5a8d81235bcb5b/0_0_7182_4309/master/7182.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=d453cfeacf206882f14f6e4beec7f509";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"cardContainer2","data-testid":"concert-card",children:[e.jsx("div",{className:"imgConatiner",children:e.jsx("img",{src:d||c,onError:o=>o.currentTarget.src=c})}),e.jsxs("div",{className:"descriptionContainer",children:[e.jsxs("div",{className:"titleContainer2",children:[e.jsx("h1",{className:"concertName",children:r}),e.jsx("p",{className:"concertDate",children:t})]}),e.jsxs("div",{className:"btnContainer",children:[e.jsx(h,{to:`/concertdetail/${i}`,children:e.jsx(x,{text:n("full_details"),bgColor:"rgba(253, 53, 90, 1)",color:"white",className:"resBtn1"})}),e.jsx(x,{text:n("added_to_cart"),bgColor:"rgba(253, 53, 90, 1)",color:"white",className:"resBtn1",onClick:()=>l({id:i,name:r,url:d,date:t})})]})]})]})})},L=()=>{var o;const{data:s,error:d,isLoading:r}=g("Hollywood bowl"),{t}=u(),i=p(),l=f(a=>a.user.isAuthenticated);console.log(s,1);const n=a=>new Date(a).toLocaleDateString("en-US"),c=a=>{if(!l){m.success({message:"Not logged in",description:"Please log in to add to cart",duration:2,className:"notificationCustom"});return}i(N({concert_id:a.id,name:a.name,endDate:a.date,image:a.url,quantity:1})),s&&s.data&&m.success({message:t("concert_added_to_cart"),duration:1,className:"notificationCustom",description:`${a.name}  ${t("concert_added_to_cart")}`})};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"concertsContainer",children:[e.jsx(C,{}),e.jsxs("div",{className:"wrapper",children:[e.jsxs("div",{className:"crumbTitle",children:[e.jsx("h1",{className:"concertsContainerTitle",children:t("hollywood_bowl_concerts")}),e.jsx("div",{className:"containerBreadC",style:{display:"flex"},children:e.jsx(_,{})})]}),r?e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem",fontSize:"20px "},children:[e.jsx(j,{color:"#e50a0a",size:95}),e.jsx("p",{children:"Loading . . . "})]}):e.jsx("div",{className:"gridBox",children:(o=s.data)==null?void 0:o.map(a=>e.jsx(v,{handleClick:c,url:a.image,name:a.description,date:n(a.endDate),id:a.concert_id},a.concert_id))})]}),e.jsx(b,{})]})})};export{L as default};
