import{f as x,j as e,H as h}from"./index-kfkMgta7.js";import{r as j}from"./vendor-Birv9qIL.js";import{B as i}from"./Button-BqwqmxVt.js";const N=()=>{const s=JSON.parse(localStorage.getItem("currentUser")||"{}"),l=JSON.parse(localStorage.getItem("allUsers")||"[]"),c=x(),[a,m]=j.useState({userId:s.userId,username:s.username,email:s.email,password:s.password,cart:s.cart}),o=n=>{const{name:t,value:r}=n.target;m(p=>({...p,[t]:r}))},d=n=>{n.preventDefault();const t=l.map(r=>r.userId===s.userId?{...r,username:a.username,email:a.email,password:a.password}:r);localStorage.setItem("allUsers",JSON.stringify(t)),localStorage.setItem("currentUser",JSON.stringify({...s,...a}))},u=()=>{if(window.confirm("Are you sure you want to delete your account?")){const t=l.filter(r=>r.userId!==s.userId);localStorage.setItem("allUsers",JSON.stringify(t)),localStorage.removeItem("currentUser"),c("/")}};return console.log(l),e.jsx(e.Fragment,{children:e.jsxs("section",{className:"profileSection",children:[e.jsx("div",{className:"headerBox",children:e.jsx(h,{})}),e.jsx("section",{className:"profileMainSection",children:e.jsxs("div",{className:"profileAll",children:[e.jsx("div",{className:"profileHeader",children:e.jsx("h1",{children:"Personal information"})}),e.jsxs("div",{className:"profileBox",children:[e.jsx("div",{className:"userImg",children:e.jsx("img",{src:"https://marketplace.canva.com/EAFqNrAJpQs/1/0/1600w/canva-neutral-pink-modern-circle-shape-linkedin-profile-picture-WAhofEY5L1U.jpg",alt:"userPhoto"})}),e.jsx("div",{className:"userData",children:e.jsxs("form",{className:"profileForm",onSubmit:d,children:[e.jsxs("div",{className:"profileinputs",children:[" ",e.jsxs("label",{children:[e.jsx("span",{children:"Name"}),e.jsx("input",{type:"text",value:a.username,name:"username",onChange:o})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Surname"}),e.jsx("input",{type:"text",value:"Shukurova"})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Email"}),e.jsx("input",{type:"text",value:a.email,name:"email",onChange:o})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Password"}),e.jsx("input",{type:"text",value:a.password,name:"password",onChange:o})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"end",marginTop:"1.2rem"},children:[e.jsx(i,{text:"Save changes",bgColor:"rgb(253, 53, 90)",color:"white",className:"profileButton"}),e.jsx(i,{text:"Delete account",bgColor:"rgb(253, 53, 90)",color:"white",onClick:u,className:"profileButton"})]})]})})]})]})})]})})};export{N as default};
